# config

[defaults/treeviews/tree]
right_click=command:void(@tree_set_focus(%o,%r),@tree_context_popup (%o, %r))
right_click_on_rls=true
blank_right_click=command:void(@tree_set_focus(%o,%r),@tree_context_popup (%o, %r))
blank_right_click_on_rls=true
blankrow_right_click=command:tree_context_popup (%o)
blankrow_right_click_on_rls=true
blankcol_right_click=command:tree_context_popup (%o)
blonkcol_right_click_on_rls=true
context_menu_menus=context
context_menu=add_root,tree_visuals<@tree_visuals>,-,tree_options<!tree_options>,-,@register,-,:register:+<@register:+>,-,:refresh<@refresh>

[context_menus/treeviews/add_root]
name=Add New Root...
icon=gtk-add
trigger=command:tree_add_root (%o, @ask_text (Enter FL))

[context_menus/treeviews/tree_visuals]
type:context-type=empty
is_sensitive=has_ref
name=Tree Visuals...
submenu=1

[context_menus/treeviews/tree_options]
type:context-type=empty
name=Tree Options
icon=preferences-desktop
submenu=1

[defaults/treeviews/list]
right_click=command:void(@tree_set_focus(%o,%r),@tree_context_popup (%o, %r))
right_click_on_rls=true
blank_right_click=command:tree_context_popup (%o)
blank_right_click_on_rls=true
blankrow_right_click=command:tree_context_popup (%o)
blankrow_right_click_on_rls=true
blankcol_right_click=command:tree_context_popup (%o)
blonkcol_right_click_on_rls=true
context_menu_menus=context
context_menu=@go:tree,marks,-,!new_nodes,new_items,-,@register,-,:register:+<@register:+>,-,@selection,-,column_edit<!column_edit,-,@touch>,-,:refresh<@refresh>
context_menu_task=@go:tree,marks,-,@selection,-,:refresh<@refresh>,-,@tasks
context_menu_colheader=!sort_order,!second_sort_order,-,options<column_options<!column_options>,list_options<!tree_options>>

[menus/context]
sort=false
submenus=3
use_default_icons=false
left_click=command:node_trigger (%n, t, t+p)

[context_menus/treeviews/aliases]
go=:go.up<:go.tree_root:%C,-,:go.up,:go.back,:go.forward,:go.down>
selection=selection_select,selection_invert,selection_unselect,selection_filter
register=:register.cut:%C,:register.copy:%C,:register.append:%C,:register.paste:%C<:register.paste:%C,:register.paste_copy:%C,:register.paste_move:%C,:register.paste_new_folder:%C>
refresh=:refresh.visible,:refresh.simple,:refresh,:refresh.reload
touch=touch_now
tasks=:domain.task.toggle,:domain.task.cancel,:domain.task.show_ui
tree_visuals=:tree_visuals.name,:tree_visuals.icon,:tree_visuals.box,:tree_visuals.highlight,:tree_visuals.clicks

[context_menus/treeviews/column_edit]
name=Edit...
icon=gtk-edit
is_sensitive=has_ref or selection
type=3

[context_menus/treeviews/selection_select]
name=Select All
icon=edit-select-all
trigger=command:tree_selection (%o, s, :all)
[context_menus/treeviews/selection_unselect]
name=Unselect All
trigger=command:tree_selection (%o, u, :all)
[context_menus/treeviews/selection_invert]
name=Invert Selection
trigger=command:tree_selection (%o, i, :all)
[context_menus/treeviews/selection_filter]
name=Selection Filter...
trigger=command:tree_selection_nodes (%o, d, @nodes_filter (@tree_get_nodes (%o, :all), @ask_text (Enter your selection filter), %o))

[context_menus/treeviews/marks]
type:context-type=container
name=Go to mark...
icon=go-jump
trigger=mark:/
submenus=1
menu=foo

[menus/foo]
sort=true
use_default_icons=false

[context_menus/treeviews/touch_now]
is_visible=ref_not_selected or (ref_selected or (not has_ref and selection))
name_ref=Set time to now
trigger_ref_when=ref_not_selected
trigger_ref=command:tree_column_set_value (%o, %r,, time, n)
name_sel=Set time to now (selection)
trigger_sel_when=ref_selected or (not has_ref and selection)
trigger_sel=command:tree_column_set_value (%o, :selected,, time, n)

[context_menus/treeviews/new_items]
type:context-type=container
name=New Items
icon=folder-new
trigger=fs:/home/jjacky/donnatella/new-items
submenus=1
menu=new_items

[context_menus/treeviews/options]
type:context-type=empty
name=Options
icon=preferences-desktop
submenus=1

[context_menus/treeviews/column_options]
type:context-type=empty
name=Column Options
submenus=1

[context_menus/treeviews/list_options]
type:context-type=empty
name=List Options
submenus=1

[menus/new_items]
sort=true
left_click=command:tree_goto_line (:active, s+f, @nodes_io (%n, c, @tree_get_location (:active), @ask_text (new name,,@node_get_property(%n,name))))

[events/pre-exit]
confirm=command:tasks_pre_exit()

[layouts]
std=paneH(!treeview:tree@230,treeview:list)
dp=paneH(!treeview:tree@230,paneV(treeview:foo,treeview:list))
test=paneV(paneH(!treeview:tree@230,paneV(treeview:list,treeview:list3)),paneH(!treeview:tree2,treeview:list2))

[donna]
layout=test
width=1080
height=420
active_list=list
domain_exec:title-domain=custom
custom_exec=Search Results
domain_task:title-domain=custom
domain_register:title-domain=custom

[treeviews/tree2]
mode=1
sync_with=list2

[treeviews/list2]
not_active_list=true

[events/start]
marks=command:mark_load (,1)
registers=command:register_load_all (,1)
tmp=command:tree_set_location (:active, fs:/tmp)

[events/exit]
marks=command:mark_save ()
registers=command:register_save_all ()

[statusbar]
areas=tm,foo,bar
[statusbar/tm]
source=:task
format=%A %F
expand=false
[statusbar/foo]
source=:active
format=%v/%a files (%V) %N
[statusbar/bar]
source=:focused
format=%o %K %k
width=150
expand=false
keymode_colors=true
keymode_select_background-rgba=rgba(0,42,200,0.8)
keymode_select_foreground=white

[providers/exec]
terminal=urxvt -hold -e
[providers/fs]
#exec_copy=>cp -a -i -v -t %d %s
exec_copy=!echo cp -t %d %s
exec_move=!echo mv -t %d %s
exec_delete=!echo rm %s

[defaults/sort]
locale_based=false
natural_order=true
dot_first=true
dot_mixed=false
case_sensitive=false
ignore_spunct=false

[defaults/size]
digits=+2
format=%b

[defaults/columntypes/time]
desc_first=true

[defaults/columntypes/size]
desc_first=true

[columns/name]
type:ct=name
width=420

[columns/size]
type:ct=size
desc_first=true
format_tooltip=%R
width=80

[columns/time]
type:ct=time
title=Modified
format_tooltip=%A %e %B %Y, %T (%o)
format=%F %T
width=108

[columns/perms]
format_tooltip=%p (%o)
width=30

[columns/own]
type:ct=perms
format=%V:%H
format_tooltip=
sort=+3
width=70

[defaults/treeviews/tree]
expander_left_click=command:tree_toggle_row (%o, %r, s)
expander_ctrl_left_click=command:tree_maxi_expand (%o, %r)
expander_shift_left_click=command:tree_maxi_collapse (%o, %r)
expander_middle_click=command:tree_toggle_row (%o, %r, maxi)
expander_ctrl_middle_click=command:tree_toggle_row (%o, %r, full)
shift_middle_click=command:tree_remove_row(%o,%r)

[defaults/treeviews/tree/keys/key_Escape]
trigger=command:tree_reset_keys (%o)
[defaults/treeviews/list/keys/key_Escape]
trigger=command:void(@tree_reset_keys (%o), @tree_abort (%o))

[defaults/treeviews/tree/keys/key_Up]
trigger=command:tree_goto_line (%o, s+f, :prev, %m, r)
is_motion=true
[defaults/treeviews/tree/keys/key_Down]
trigger=command:tree_goto_line (%o, s + f, :next, %m, r)
is_motion=true
[defaults/treeviews/tree/keys/key_k]
type:key=alias
key=Up
[defaults/treeviews/tree/keys/key_j]
type:key=alias
key=Down
[defaults/treeviews/tree/keys/key_g]
trigger=command:tree_goto_line (%o, s+f, 1, %m, l)
is_motion=true
[defaults/treeviews/tree/keys/key_G]
trigger=command:tree_goto_line (%o, s+f, :last, %m, l)
is_motion=true
[defaults/treeviews/tree/keys/key_braceleft]
trigger=command:tree_goto_line (%o, s+f, :top, %m, r)
is_motion=true
[defaults/treeviews/tree/keys/key_braceright]
trigger=command:tree_goto_line (%o, s+f, :bottom, %m, r)
is_motion=true
[defaults/treeviews/tree/keys/key_Home]
type:key=alias
key=g
[defaults/treeviews/tree/keys/key_End]
type:key=alias
key=G
[defaults/treeviews/tree/keys/key_Page_Up]
trigger=command:tree_goto_line (%o, s, :top, %m, r)
[defaults/treeviews/tree/keys/key_Page_Down]
trigger=command:tree_goto_line (%o, s, :bottom, %m, r)
[defaults/treeviews/tree/keys/key_percent]
trigger=command:tree_goto_line (%o, s+f, :focused, %m, p)
is_motion=true

[defaults/treeviews/list]
left_click=command:tree_selection (%o, un, :all,)
ctrl_left_click=command:tree_selection (%o, inv, %r, 0)
shift_left_click=command:tree_selection (%o, i, %r, 1)
ctrl_shift_left_click=command:tree_selection (%o, sel, %r, 1)
middle_click=command:tree_column_edit (%o, %r, %R)
blank_middle_click=command:tree_goto_line (%o, s, :focused,,l)
colheader_left_click=command:tree_set_sort (%o, %R)
colheader_left_click_on_rls=true
colheader_ctrl_left_click=command:tree_set_second_sort (%o, %R)
colheader_middle_click=command:tree_set_second_sort (%o, %R)
colheader_right_click=command:tree_context_popup (%o,,%R,@config_get_string (defaults/treeviews/list/context_menu_colheader))
colheader_right_click_on_rls=true

[defaults/treeviews/list/selected]
ctrl_left_double_click=command:tree_activate_row (%o, :selected)

[defaults/treeviews/list/keys/key_BackSpace]
trigger=command:tree_go_up (%o, %m)
[defaults/treeviews/list/keys/key_Insert]
trigger=command:tree_go_down (%o, %m)
[defaults/treeviews/list/keys/key_F5]
trigger=command:tree_refresh (%o, normal)
[defaults/treeviews/list/keys/key_Up]
trigger=command:tree_goto_line (%o, s+f, :prev, %m, r)
is_motion=true
[defaults/treeviews/list/keys/key_Down]
trigger=command:tree_goto_line (%o, s + f, :next, %m, r)
is_motion=true
[defaults/treeviews/list/keys/key_k]
type:key=alias
key=Up
[defaults/treeviews/list/keys/key_j]
type:key=alias
key=Down
[defaults/treeviews/list/keys/key_g]
trigger=command:tree_goto_line (%o, s+f, 1, %m, l)
is_motion=true
[defaults/treeviews/list/keys/key_G]
trigger=command:tree_goto_line (%o, s+f, :last, %m, l)
is_motion=true
[defaults/treeviews/list/keys/key_braceleft]
trigger=command:tree_goto_line (%o, s+f, :top, %m, r)
is_motion=true
[defaults/treeviews/list/keys/key_braceright]
trigger=command:tree_goto_line (%o, s+f, :bottom, %m, r)
is_motion=true
[defaults/treeviews/list/keys/key_Home]
type:key=alias
key=g
[defaults/treeviews/list/keys/key_End]
type:key=alias
key=G
[defaults/treeviews/list/keys/key_Page_Up]
trigger=command:tree_goto_line (%o, s, :top, %m, r)
[defaults/treeviews/list/keys/key_Page_Down]
trigger=command:tree_goto_line (%o, s, :bottom, %m, r)
[defaults/treeviews/list/keys/key_percent]
trigger=command:tree_goto_line (%o, s+f, :focused, %m, p)
is_motion=true
[defaults/treeviews/list/keys/key_Return]
trigger=command:node_trigger (%n)
[defaults/treeviews/list/keys/key_KP_Enter]
type:key=alias
key=Return
[defaults/treeviews/list/keys/key_v]
type:key=spec
spec:spec=motion
trigger=command:tree_selection (%o, i, %r, 1)
[defaults/treeviews/list/keys/key_m]
type:key=spec
spec:spec=lower,upper
trigger=command:mark_set (%s,,,%*l)
[defaults/treeviews/list/keys/key_M]
type:key=spec
spec:spec=lower,upper
trigger=command:mark_set (%s,,,%*n)
[defaults/treeviews/list/keys/key_apostrophe]
type:key=spec
spec:spec=lower,upper,extra
trigger=command:tree_set_location (%o, @mark_get_node (%s))
[defaults/treeviews/list/keys/key_V]
trigger=command:void(@tree_selection (%o, s, :focused), @tree_set_key_mode (%o, select))

[defaults/treeviews/list/keys/key_Delete]
type:key=alias
key=d
[defaults/treeviews/list/keys/key_d]
trigger=command:nodes_remove_from (@tree_get_nodes (%o, %r), @tree_get_location (%o))
[defaults/treeviews/list/keys/key_D]
trigger=command:nodes_remove_from (@tree_get_nodes (%o, :selected), @tree_get_location (%o))

[defaults/treeviews/list/keys/key_q]
trigger=exec:!ls
[defaults/treeviews/list/keys/key_Left]
trigger=command:tree_history_move (%o)
[defaults/treeviews/list/keys/key_Right]
trigger=command:tree_history_move (%o,f)
[defaults/treeviews/list/keys/key_h]
trigger=command:menu_popup (@tree_history_get (%o), history)

[menus/history]
sort=false

[defaults/treeviews/list/keys/key_quotedbl]
type:key=combine
spec:spec=lower,upper,digits,extra
combine=register
[defaults/treeviews/list/keys/key_y]
type:key=spec
spec:spec=motion
combine=register
trigger=command:register_set (%c, copy, @tree_get_nodes (%o, %r, 1))
[defaults/treeviews/list/keys/key_Y]
combine=register
trigger=command:register_set (%c, copy, @tree_get_nodes (%o, :selected))
[defaults/treeviews/list/keys/key_x]
type:key=spec
spec:spec=motion
combine=register
trigger=command:register_set (%c, cut, @tree_get_nodes (%o, %r, 1))
[defaults/treeviews/list/keys/key_X]
combine=register
trigger=command:register_set (%c, cut, @tree_get_nodes (%o, :selected))
[defaults/treeviews/list/keys/key_a]
type:key=spec
spec:spec=motion
combine=register
trigger=command:register_add_nodes (%c, @tree_get_nodes (%o, %r, 1))
[defaults/treeviews/list/keys/key_A]
combine=register
trigger=command:register_add_nodes (%c, @tree_get_nodes (%o, :selected, 1))
[defaults/treeviews/list/keys/key_p]
combine=register
trigger=command:register_nodes_io (%c, auto, @tree_get_location (%o))
[defaults/treeviews/list/keys/key_P]
combine=register
trigger=command:register_nodes_io (%c, copy, @tree_get_location (%o))
[defaults/treeviews/list/keys/key_O]
combine=register
trigger=command:register_nodes_io (%c, move, @tree_get_location (%o))
[defaults/treeviews/list/keys/key_E]
combine=register
trigger=command:register_nodes_io (%c, del)

[defaults/treeviews/list/keys/key_N]
combine=register
trigger=command:register_nodes_io (%c, copy, @tree_get_location (%o), 1)

[defaults/treeviews/list/keys/select/key_Up]
trigger=command:tree_goto_line (%o, s+f, :prev, %m, r, s, 1)
is_motion=true
[defaults/treeviews/list/keys/select/key_Down]
trigger=command:tree_goto_line (%o, s+f, :next, %m, r, s, 1)
is_motion=true
[defaults/treeviews/list/keys/select/key_k]
type:key=alias
key=Up
[defaults/treeviews/list/keys/select/key_j]
type:key=alias
key=Down
[defaults/treeviews/list/keys/select/key_g]
trigger=command:tree_goto_line (%o, s+f, 1, %m, l, s, 1)
is_motion=true
[defaults/treeviews/list/keys/select/key_G]
trigger=command:tree_goto_line (%o, s+f, :last, %m, l, s, 1)
is_motion=true
[defaults/treeviews/list/keys/select/key_braceleft]
trigger=command:tree_goto_line (%o, s+f, :top, %m, r, s, 1)
is_motion=true
[defaults/treeviews/list/keys/select/key_braceright]
trigger=command:tree_goto_line (%o, s+f, :bottom, %m, r, s, 1)
is_motion=true

[defaults/treeviews/list/keys/select/key_quotedbl]
type:key=combine
spec:spec=lower,upper,digits,extra
combine=register
[defaults/treeviews/list/keys/select/key_y]
combine=register
trigger=command:void(@register_set (%c, copy, @tree_get_nodes (%o, :selected)), @tree_selection (%o, uns, :all), @tree_reset_keys (%o))
[defaults/treeviews/list/keys/select/key_Y]
combine=register
trigger=command:void(@register_add_nodes (%c, @tree_get_nodes (%o, :selected)), @tree_selection (%o, uns, :all), @tree_reset_keys (%o))
[defaults/treeviews/list/keys/select/key_x]
combine=register
trigger=command:void(@register_set (%c, cut, @tree_get_nodes (%o, :selected)), @tree_selection (%o, uns, :all), @tree_reset_keys (%o))



[defaults/treeviews/list/keys/key_ugrave]
trigger=command:tree_set_focus(%o,%%%m)

[defaults/treeviews/tree/keys/key_apostrophe]
type:key=spec
spec:spec=lower,upper
trigger=command:tree_set_location (%o, @mark_get_node (%s))

[defaults/treeviews/list/columns/name]
left_click=command:tree_set_focus (%o, %r)

[defaults/treeviews/tree/columns/name]
left_click=command:tree_set_cursor (%o, %r)

[treeviews/tree]
mode:tm=tree
auto_focus_sync=true
is_minitree=true
sync_with=:active
sync_mode:sync=full
sync_scroll=false
#node_types=3
show_hidden=false
#node_visuals=14
node_visuals:visuals=box,highlight,icon

[treeviews/list]
#mode:tm=list
#focusing_click=false
location=fs:/tmp

[defaults/arrangements/tree]
columns=name
sort_column=name

[columns/desc]
type=text
property=desc

[visuals/]
node=fs:/home/jjacky
box=yellow
highlight=blue

[visuals/]
node=fs:/home/jjacky/.config
box=green

[visuals/]
node=fs:/home/jjacky/.config/kalu
icon=kalu

[visuals/]
node=fs:/archives/INCOMING
icon=screensaver

[defaults/arrangements/list/color_filters/]
filter=*.tar.*|*.tgz|*.zip|*.rar
column=name
foreground=green

[defaults/arrangements/list/color_filters/]
filter=size:0
column=size
bold=true

[defaults/arrangements/list/color_filters/]
filter=size:>1G
column=size
foreground-rgba=rgb(255,0,0)

[defaults/arrangements/list/color_filters/]
filter=size:700M-1G
column=size
foreground-rgba=rgb(190,0,0)

[defaults/arrangements/list/color_filters/]
filter=size:>=350M
column=size
foreground-rgba=rgb(108,0,0)

[defaults/arrangements/list/color_filters/]
filter=time:A<=1H
column=time
foreground-rgba=rgb(0,80,210)

[defaults/arrangements/list/color_filters/]
filter=time:A0d
column=time
foreground-rgba=rgb(0,150,200)

[defaults/arrangements/list/color_filters/]
filter=time:A1d
column=time
foreground-rgba=rgb(0,200,160)

[defaults/arrangements/list/color_filters/]
filter=time:A0V
column=time
foreground-rgba=rgb(0,180,0)

[defaults/arrangements/list/color_filters/]
filter=perms:/o=wx
column=perms
background=yellow

[defaults/arrangements/list/color_filters/]
filter=perms:sx
column=own
background-rgba=rgb(0,255,0)


# ARRANGEMENTS

[treeviews/list/arrangements]
type=4
[treeviews/list/arrangements/]
mask=fs:/tmp/*
[treeviews/list/arrangements//columns_options/time]
format=%O

[arrangements]
type=1
[arrangements/]
mask=fs:/archives/INCOMING/
sort_column=time
[arrangements//color_filters]
type=3
[arrangements//color_filters/]
filter=*.foo.*|*.bar.*
column=name
foreground-rgba=rgb(223,15,0)
[arrangements//color_filters/]
filter=*.avi
column=name
foreground=blue

[arrangements/]
mask=fs:/tmp/foobar/*
sort_column=time
sort_order=2
[arrangements/]
#mask=fs:/tmp/?*
mask=fs:/tmp/*
sort_column=size
[arrangements//columns_options/perms]
format=%o
[arrangements/]
mask=fs:/*
columns=name,size,time,perms,own
sort_column=name
sort_order=1
second_sort_column=name
second_sort_order=1
second_sort_sticky=true
second_sort_always=true

[arrangements/]
mask=exec:*
columns=path,name,size,time,perms,own
sort_column=path
sort_order=1
second_sort_column=name
second_sort_order=1
second_sort_sticky=true
second_sort_always=true
[arrangements//columns_options/name]
width=300

[columns/path]
type=text
property=path

[arrangements/]
mask=task:/*
columns=name,progress,text,label
[arrangements//columns_options/name]
title=Task
width=230
[arrangements//columns_options/progress]
title=Progress
width=80
[arrangements//columns_options/text]
title=Status
property=status
width=230
[arrangements//columns_options/label]
title=State
property=state
labels=0=Stopped,1=Waiting,2=Running,3=On Hold,4=Paused,5=Cancelled,6=Failed,7=Done
width=80

[arrangements/]
mask=config:/*
columns=name,opt-type,value
[arrangements//columns_options/name]
width=230
[arrangements//columns_options/value]
width=420

[arrangements/]
mask=mark:/*
columns=name,mark-type,mark-value
[arrangements//columns_options/name]
width=230

[columns/mark-type]
type=value
width=80
property_value=mark-type
property_extra=mark-type-extra

[columns/mark-value]
type=text
property=value
width=420

[columns/opt-type]
type=value
show_type=true
width=108

[columns/ln]
type=line-number
title=#
relative=true
width=30

[treeviews/list2/arrangements]
type=3
[treeviews/list2/arrangements/]
mask=fs:/*
columns=ln,name,size,time,perms,own


#eof
